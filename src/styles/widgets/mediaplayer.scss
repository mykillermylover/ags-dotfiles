@use '../variables' as *;
@use 'sass:color';

$player-border-radius: calc($border-radius * 2);

.mediaplayer-popup {
  border-radius: calc($player-border-radius + $container-padding);
}

.mediaplayer-container {
  padding: $container-padding;

  > .mediaplayer-cover {
    border-radius: $player-border-radius;

    background-position: center;
    background-size: cover;
  }

  .mediaplayer-tint {
    border-radius: $player-border-radius;
    border: $primary-container 1px solid;

    background-image: linear-gradient(
                    color.adjust($inverse-primary, $alpha: -0.2, $hue: 90deg, $lightness: -15%),
                    color.adjust($inverse-primary, $alpha: -0.2, $lightness: -15%),
    );
  }

  .mediaplayer-content {
    padding: calc($container-padding * 12) 0 calc($container-padding * 4);

    * {
      font-family: "MesloLGS Nerd Font Mono", serif;
    }
  }
}

.song-info {
  margin-bottom: $double-container-padding;

  .song-info-item {
  }

  .artist {
    font-size: calc($font-size * 1.3);
    color: color.adjust($secondary, $alpha: -0.1);
  }

  .name {
    font-weight: bold;

    font-size: calc($font-size * 2);
    color: $primary;
  }

  .album {
    color: color.adjust($tertiary, $alpha: -0.5);
  }
}

.song-controls {
  padding: 0 calc($container-padding * 20);

  .song-controls-item {
    margin: 0 8px;
    border-radius: $border-radius;
    padding: $button-padding $container-padding;

    icon {
      font-size: calc($font-size * 2);
      color: $primary;

      transition: all 75ms steps(24);
    }

    &:hover {
      background: transparent;

      icon {
        -gtk-icon-transform: scale(1.1);
        -gtk-icon-shadow: rgb(255, 255, 255) 0px 0px 2px;
      }
    }

    &:active icon {
      -gtk-icon-shadow: rgb(255, 255, 255) 0 0 4px;
    }

    .shuffle-icon, .loop-icon {
      color: color.adjust($primary, $alpha: -0.7);

      &.on {
        color: $tertiary;
        -gtk-icon-shadow: $tertiary 0 0 1.5px;
      }

      &.unsupported {
        color: color.adjust($primary, $alpha: -0.95);
        -gtk-icon-shadow: unset;
        -gtk-icon-transform: unset;
      }
    }
  }
}

.mediaplayer-slider {
  margin: calc($container-padding * 2) calc($container-padding * 1.5);

  scale {
    padding: 0;

    contents {
      trough {
        background: $outline-variant;
        border-radius: $border-radius;

        slider {
          all: unset;
          min-height: $container-padding;
          min-width: $container-padding;
          margin: calc(1px - $container-padding);

          border-radius: 4px;
          background: $secondary;

          &:hover {
            background: color.adjust($secondary, $lightness: -5%);
            box-shadow: 0 0 2px 0 $primary;
            margin: - $container-padding;
          }

          transition: margin 50ms steps(25);
        }

        highlight {
          padding: calc($container-padding / 2) 0;
          border-radius: $border-radius;
          background: $primary-container;
        }
      }

      :hover {
        box-shadow: 0 0 2px -.5px $primary;
      }
    }
  }
}